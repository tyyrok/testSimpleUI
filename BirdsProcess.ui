{
    "ClientConfiguration": {
        "ConfigurationName": "Test task configuration",
        "ConfigurationDescription": "New SimpleUI confiluration development",
        "ConfigurationVersion": "0.0.1",
        "Processes": [
            {
                "type": "Process",
                "ProcessName": "Birds",
                "PlanFactHeader": "Plan/Fact",
                "DefineOnBackPressed": true,
                "hidden": false,
                "login_screen": false,
                "SC": false,
                "Operations": [
                    {
                        "type": "Operation",
                        "Name": "Birds list",
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "noConfirmation": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "send_when_opened": false,
                        "onlineOnInput": false,
                        "DefOnlineOnCreate": "",
                        "DefOnlineOnInput": "",
                        "DefOnCreate": "on_start_birds_list",
                        "DefOnInput": "on_input_birds_list",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TableLayout",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@table",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Добавить птицу",
                                        "Variable": "@btn_add_bird"
                                    }
                                ]
                            }
                        ]
                    },
                    {
                        "Name": "Bird detail",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "wrap_content",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Имя птицы",
                                        "Variable": "",
                                        "TextBold": true,
                                        "TextSize": "20"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@name",
                                        "Variable": "",
                                        "orientation": "vertical",
                                        "Elements": []
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Цвет перьев",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@color",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Picture",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "@photo",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Видел   ",
                                        "Variable": "btn_seen_bird"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "on_start_detail_view",
                        "DefOnInput": "on_input_detail_view",
                        "DefOnlineOnCreate": ""
                    },
                    {
                        "Name": "Add bird",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TextView",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Введите имя птицы",
                                        "Variable": "",
                                        "TextBold": true,
                                        "gravity_horizontal": "center"
                                    },
                                    {
                                        "type": "EditTextText",
                                        "height": "match_parent",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "",
                                        "Variable": "name",
                                        "TextBold": true,
                                        "gravity_horizontal": "center"
                                    },
                                    {
                                        "type": "TextView",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Введите цвет перьев",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "SpinnerLayout",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Зеленые;Красные;Серые;Желтые",
                                        "Variable": "color"
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "Сохранить",
                                        "Variable": "btn_create_bird"
                                    }
                                ]
                            },
                            {
                                "Value": "",
                                "Variable": "photo",
                                "type": "photoGallery"
                            },
                            {
                                "Value": "",
                                "Variable": "photo",
                                "type": "photo"
                            },
                            {
                                "Value": "@photo_gallery",
                                "Variable": "photo_gallery",
                                "type": "HorizontalGallery"
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnInput": "on_save_new_bird",
                        "DefOnCreate": "on_start_new_bird",
                        "DefOnlineOnCreate": ""
                    }
                ]
            },
            {
                "ProcessName": "Birds I've seen",
                "type": "Process",
                "Operations": [
                    {
                        "Name": "Birds seen list",
                        "type": "Operation",
                        "Elements": [
                            {
                                "Value": "",
                                "Variable": "",
                                "type": "LinearLayout",
                                "weight": "0",
                                "height": "match_parent",
                                "width": "match_parent",
                                "orientation": "vertical",
                                "Elements": [
                                    {
                                        "type": "TableLayout",
                                        "height": "wrap_content",
                                        "width": "match_parent",
                                        "weight": "0",
                                        "Value": "@table",
                                        "Variable": ""
                                    },
                                    {
                                        "type": "Button",
                                        "height": "wrap_content",
                                        "width": "wrap_content",
                                        "weight": "0",
                                        "Value": "Добавить увиденную птицу",
                                        "Variable": "btn_add_seen_bird"
                                    }
                                ]
                            }
                        ],
                        "Timer": false,
                        "hideToolBarScreen": false,
                        "noScroll": false,
                        "handleKeyUp": false,
                        "hideBottomBarScreen": true,
                        "onlineOnStart": false,
                        "onlineOnInput": false,
                        "DefOnCreate": "on_start_birds_seen_list",
                        "DefOnInput": "on_input_birds_seen_list"
                    }
                ],
                "DefineOnBackPressed": true
            }
        ],
        "ConfigurationSettings": {
            "uid": "af49b55c7c4b4932a6ced1cbd89bfd38"
        },
        "ConfigurationTags": "Py,off-line",
        "RunPython": true,
        "PyTimerTask": [
            {
                "PyTimerTaskKey": "on_start",
                "PyTimerTaskDef": "init_on_start",
                "PyTimerTaskPeriod": "-1",
                "PyTimerTaskBuilIn": false
            }
        ],
        "PyHandlers": "ZnJvbSBwb255Lm9ybSBpbXBvcnQgRGF0YWJhc2UsUmVxdWlyZWQsU2V0LHNlbGVjdCxjb21taXQsT3B0aW9uYWwsSnNvbix0aW1lCmltcG9ydCBqc29uCmltcG9ydCBvcwoKZGIgPSBEYXRhYmFzZSgpCmRiLmJpbmQocHJvdmlkZXI9J3NxbGl0ZScsIGZpbGVuYW1lPScvL2RhdGEvZGF0YS9ydS50cmF2ZWxmb29kLnNpbXBsZV91aS9kYXRhYmFzZXMvU2ltcGxlV01TJywgY3JlYXRlX2RiPVRydWUpCgpjbGFzcyBCaXJkcyhkYi5FbnRpdHkpOgogICAgbmFtZSA9ICBSZXF1aXJlZChzdHIsIHVuaXF1ZT1UcnVlKQogICAgcGhvdG8gPSBPcHRpb25hbChKc29uKQogICAgY29sb3IgPSBPcHRpb25hbChzdHIpCiAgICBzZWVuID0gU2V0KCJCaXJkc1NlZW4iKQogICAgCmNsYXNzIEJpcmRzU2VlbihkYi5FbnRpdHkpOgogICAgdGltZXN0YW1wID0gUmVxdWlyZWQodGltZSkKICAgIGNvdW50cyA9IFJlcXVpcmVkKGludCkKICAgIGJpcmQgPSBSZXF1aXJlZChCaXJkcykKICAgICAgICAKZGVmIGluaXQoKToKICAgIGRiLmdlbmVyYXRlX21hcHBpbmcoY3JlYXRlX3RhYmxlcz1UcnVlKSAgCgpkZWYgaW5pdF9vbl9zdGFydChoYXNoTWFwLF9maWxlcz1Ob25lLF9kYXRhPU5vbmUpOgogICAgaW5pdCgpCiAgICBoYXNoTWFwLnB1dCgiU1FMQ29ubmVjdERhdGFiYXNlIiwidGVzdDEuREIiKQogICAgaGFzaE1hcC5wdXQoIlNRTEV4ZWMiLGpzb24uZHVtcHMoeyJxdWVyeSI6ImNyZWF0ZSB0YWJsZSBJRiBOT1QgRVhJU1RTIEJpcmRzKGlkIGludGVnZXIgcHJpbWFyeSBrZXkgYXV0b2luY3JlbWVudCxuYW1lIHRleHQpIiwicGFyYW1zIjoiIn0pKQogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBvbl9zdGFydF9iaXJkc19saXN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCJtbV9sb2NhbCIsIiIpCiAgICBoYXNoTWFwLnB1dCgibW1fY29tcHJlc3Npb24iLCI3MCIpCiAgICBoYXNoTWFwLnB1dCgibW1fc2l6ZSIsIjY1IikKICAgIAogICAgaiA9IHsgImN1c3RvbXRhYmxlIjogewogICAgICAgICAgICAgICAgIm9wdGlvbnMiOnsKICAgICAgICAgICAgICAgICJzZWFyY2hfZW5hYmxlZCI6RmFsc2UsCiAgICAgICAgICAgICAgICAic2F2ZV9wb3NpdGlvbiI6VHJ1ZQogICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgCiAgICAgICAgICAgICJsYXlvdXQiOiAgewogICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICJvcmllbnRhdGlvbiI6ICJ2ZXJ0aWNhbCIsCiAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIm1hdGNoX3BhcmVudCIsCiAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMCIsCiAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIkxpbmVhckxheW91dCIsCiAgICAgICAgICAgICAgICAgICAgIm9yaWVudGF0aW9uIjogImhvcml6b250YWwiLAogICAgICAgICAgICAgICAgICAgICJoZWlnaHQiOiAid3JhcF9jb250ZW50IiwKICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjAiLAogICAgICAgICAgICAgICAgICAgICJFbGVtZW50cyI6IFt7CiAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlBpY3R1cmUiLAogICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBwaWMxIiwKICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRTaXplIjogIjE2IiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRDb2xvciI6ICIjREI3MDkzIiwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRCb2xkIjogVHJ1ZSwKICAgICAgICAgICAgICAgICAgICAgICAgIlRleHRJdGFsaWMiOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgIkJhY2tncm91bmRDb2xvciI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAid2lkdGgiOiAibWF0Y2hfcGFyZW50IiwKICAgICAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogMgogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJMaW5lYXJMYXlvdXQiLAogICAgICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAidmVydGljYWwiLAogICAgICAgICAgICAgICAgICAgICAgICAiaGVpZ2h0IjogIndyYXBfY29udGVudCIsCiAgICAgICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICAgICAid2VpZ2h0IjogIjEiLAogICAgICAgICAgICAgICAgICAgICAgICAiRWxlbWVudHMiOiBbewogICAgICAgICAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiVGV4dFZpZXciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgInNob3dfYnlfY29uZGl0aW9uIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFsdWUiOiAiQHN0cmluZzEiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgImRvY3VtZW50X3R5cGUiOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJtYXNrIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiVmFyaWFibGUiOiAiIgogICAgICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJUZXh0VmlldyIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAic2hvd19ieV9jb25kaXRpb24iOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICJAc3RyaW5nMiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiTm9SZWZyZXNoIjogRmFsc2UsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAiZG9jdW1lbnRfdHlwZSI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJ0eXBlIjogIlRleHRWaWV3IiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhbHVlIjogIkBzdHJpbmczIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJOb1JlZnJlc2giOiBGYWxzZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAibWFzayI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgIlZhcmlhYmxlIjogIiIKICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICB9LF0KICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICAgICAgInR5cGUiOiAiTGluZWFyTGF5b3V0IiwKICAgICAgICAgICAgICAgICAgICAib3JpZW50YXRpb24iOiAiaG9yaXpvbnRhbCIsCiAgICAgICAgICAgICAgICAgICAgImhlaWdodCI6ICJ3cmFwX2NvbnRlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3aWR0aCI6ICJtYXRjaF9wYXJlbnQiLAogICAgICAgICAgICAgICAgICAgICJ3ZWlnaHQiOiAiMSIsCiAgICAgICAgICAgICAgICAgICAgIkVsZW1lbnRzIjogW3sKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAidHlwZSI6ICJCdXR0b24iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJzaG93X2J5X2NvbmRpdGlvbiI6ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYWx1ZSI6ICLQlNC10YLQsNC70LgiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJWYXJpYWJsZSI6ICJidG5fdHN0MSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIk5vUmVmcmVzaCI6IEZhbHNlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICJkb2N1bWVudF90eXBlIjogIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIm1hc2siOiAiIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfV0KICAgICAgICAgICAgICAgIH1dCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9CiAgICAKICAgIHF1ZXJ5ID0gc2VsZWN0KGMgZm9yIGMgaW4gQmlyZHMpCiAgICAKICAgCiAgICBqWyJjdXN0b210YWJsZSJdWyJ0YWJsZWRhdGEiXT1bXQoKICAgIGZvciByZWNvcmQgaW4gcXVlcnk6CiAgICAgICAgcGljPSIiCiAgICAgICAgaWYgJ3Bob3RvJyBpbiByZWNvcmQucGhvdG8gOgogICAgICAgIAogICAgICAgICAgICBwID0gcmVjb3JkLnBob3RvWydwaG90byddCiAgICAgICAgICAgIAogICAgICAgICAgICBpZiBsZW4ocCk+MDoKICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgZm9yIGpmIGluIF9maWxlczogI9C90LDRhdC+0LTQuNC8INC/0YPRgtGMINC6INGE0LDQudC70YMg0L/QviDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgNGDCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGpmWydpZCddPT1wWzBdOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhqZlsncGF0aCddKTogCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpYyA9In4iK2pmWydwYXRoJ10KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgIAogICAgICAgIGMgPSAgewogICAgICAgICAgICAic3RyaW5nMSIgOiAiSUQgLSAiICsgc3RyKHJlY29yZC5pZCksCiAgICAgICAgICAgICJzdHJpbmcyIjogItCY0LzRjyDQv9GC0LjRhtGLIC0gIiArIHN0cihyZWNvcmQubmFtZSksCiAgICAgICAgICAgICJzdHJpbmczIjogItCm0LLQtdGCINC/0LXRgNGM0LXQsiAtICIgKyBzdHIocmVjb3JkLmNvbG9yKSwKICAgICAgICAgICAgInBpYzEiOiBwaWMsCiAgICAgICAgICAgICJwaG90byI6IGpzb24uZHVtcHMocmVjb3JkLnBob3RvKQogICAgICAgIH0gICAgICAgICAgICAgICAgIAogICAgICAgIGpbImN1c3RvbXRhYmxlIl1bInRhYmxlZGF0YSJdLmFwcGVuZChjKSAgICAgICAgICAgICAgICAgICAgICAKCiAgICBoYXNoTWFwLnB1dCgidGFibGUiLGpzb24uZHVtcHMoaikpCiAgICAKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgb25faW5wdXRfYmlyZHNfbGlzdChoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CgogICAgaWYgKGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJAYnRuX2FkZF9iaXJkIik6CiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCJBZGQgYmlyZCIpCiAgICAgICAgCiAgICBlbGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpPT0iTGF5b3V0QWN0aW9uIjoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsIkJpcmQgZGV0YWlsIikKICAgICAgICAKICAgIGVsaWYgaGFzaE1hcC5nZXQoImxpc3RlbmVyIikgPT0gIk9OX0JBQ0tfUFJFU1NFRCI6CiAgICAgICAgaGFzaE1hcC5wdXQoIkZpbmlzaFByb2Nlc3MiLCIiKQogICAgICAgIAogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBvbl9zYXZlX25ld19iaXJkKGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIGhhc2hNYXAucHV0KCJtbV9sb2NhbCIsIiIpCiAgICAKICAgIGlmIGhhc2hNYXAuZ2V0KCJsaXN0ZW5lciIpID09ICJidG5fY3JlYXRlX2JpcmQiOgoKICAgICAgICBwaG90byA9IHt9CiAgICAgICAgcGhvdG9bJ3Bob3RvJ10gPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJwaG90b19nYWxsZXJ5IikpCiAgICAgICAgCiAgICAgICAgQmlyZHMobmFtZT1zdHIoaGFzaE1hcC5nZXQoIm5hbWUiKSksIHBob3RvPXBob3RvLCBjb2xvcj1zdHIoaGFzaE1hcC5nZXQoImNvbG9yIikpKQogICAgICAgIGNvbW1pdCgpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCJCaXJkcyBsaXN0IikKICAgICAgICAKICAgIGVsaWYgaGFzaE1hcC5nZXQoImxpc3RlbmVyIikgPT0gInBob3RvIjoKICAgICAgICAKICAgICAgICBwaG90byA9IGhhc2hNYXAuZ2V0KCJwaG90byIpCiAgICAgICAgaGFzaE1hcC5wdXQoInBob3RvX2dhbGxlcnkiLCBqc29uLmR1bXBzKFtwaG90b10pKQogICAgICAgIAogICAgZWxpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKSA9PSAiT05fQkFDS19QUkVTU0VEIjoKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsIkJpcmRzIGxpc3QiKQogICAgICAgIAogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBvbl9zdGFydF9uZXdfYmlyZChoYXNoTWFwLF9maWxlcz1Ob25lLF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoIm1tX2xvY2FsIiwiIikKICAgIGhhc2hNYXAucHV0KCJtbV9jb21wcmVzc2lvbiIsIjcwIikKICAgIGhhc2hNYXAucHV0KCJtbV9zaXplIiwiNjUiKQogICAgCiAgICByZXR1cm4gaGFzaE1hcAogICAgCgpkZWYgb25fc3RhcnRfZGV0YWlsX3ZpZXcoaGFzaE1hcCwgX2ZpbGVzPU5vbmUsIF9kYXRhPU5vbmUpOgogICAgaGFzaE1hcC5wdXQoIm1tX2xvY2FsIiwiIikKICAgIGJpcmQgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjYXJkX2RhdGEiKSkKICAgIAogICAgaWQgPSBpbnQoYmlyZFsic3RyaW5nMSJdLnNwbGl0KCItICIpWzFdKQogICAgCiAgICBiaXJkID0gQmlyZHMuZ2V0KGlkPWlkKQogICAgbmFtZSA9IGJpcmQubmFtZQogICAgcGljID0gIiIKICAgIGlmICdwaG90bycgaW4gYmlyZC5waG90bzoKICAgICAgICAKICAgICAgICBwaG90byA9IGJpcmQucGhvdG9bInBob3RvIl0KICAgICAgICAKICAgICAgICBpZiBsZW4ocGhvdG8pID4gMDoKICAgICAgICAgICAgZm9yIGpmIGluIF9maWxlczogI9C90LDRhdC+0LTQuNC8INC/0YPRgtGMINC6INGE0LDQudC70YMg0L/QviDQuNC00LXQvdGC0LjRhNC40LrQsNGC0L7RgNGDCiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIGlmIGpmWydpZCddPT1waG90b1swXToKICAgICAgICAgICAgICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhqZlsncGF0aCddKTogCiAgICAgICAgICAgICAgICAgICAgICAgIHBpYyA9In4iK2pmWydwYXRoJ10KICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsgCiAgICAjaGFzaE1hcC5wdXQoInRvYXN0Iiwgc3RyKHBpYykpCiAgICBoYXNoTWFwLnB1dCgibmFtZSIsIG5hbWUpCiAgICBoYXNoTWFwLnB1dCgicGhvdG8iLCBwaWMpCiAgICAKICAgIAogICAgcmV0dXJuIGhhc2hNYXAKCmRlZiBvbl9pbnB1dF9kZXRhaWxfdmlldyhoYXNoTWFwLCBfZmlsZXM9Tm9uZSwgX2RhdGE9Tm9uZSk6CiAgICBpZiAgaGFzaE1hcC5nZXQoImxpc3RlbmVyIik9PSdPTl9CQUNLX1BSRVNTRUQnOiAKICAgICAgICBoYXNoTWFwLnB1dCgiU2hvd1NjcmVlbiIsIkJpcmRzIGxpc3QiKQogICAgICAgIAogICAgZWxpZiBoYXNoTWFwLmdldCgibGlzdGVuZXIiKT09ImJ0bl9zZWVuX2JpcmQiOgogICAgICAgIGJpcmQgPSBqc29uLmxvYWRzKGhhc2hNYXAuZ2V0KCJjYXJkX2RhdGEiKSkKICAgICAgICBnbG9iYWwgZ2xvYmFsX2JpcmRfaWQgCiAgICAgICAgZ2xvYmFsX2JpcmRfaWQgPSBiaXJkWydzdHJpbmcxJ10uc3BsaXQoIi0gIilbMV0KICAgICAgICBoYXNoTWFwLnB1dCgiX2dsb2JhbF9iaXJkX2lkIiwgZ2xvYmFsX2JpcmRfaWQpCiAgICAgICAgaGFzaE1hcC5wdXQoIlNob3dTY3JlZW4iLCJCaXJkcyBsaXN0IikKICAgICAgICAKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgb25fc3RhcnRfYmlyZHNfc2Vlbl9saXN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIAogICAgaWYgbm90IGhhc2hNYXAuY29udGFpbnNLZXkoIl9nbG9iYWxfYmlyZF9pZCIpOgogICAgICAgIGhhc2hNYXAucHV0KCJ0b2FzdCIsICLQktGLINC90LUg0YPQutCw0LfQsNC70Lgg0YPQstC40LTQtdC90L3Rg9GOINC/0YLQuNGG0YMiKQogICAgZWxzZToKICAgICAgICAKICAgICAgICBoYXNoTWFwLnB1dCgidG9hc3QiLCBzdHIoaGFzaE1hcC5nZXQoIl9nbG9iYWxfYmlyZF9pZCIpKSkKICAgICAgICAKICAgIHJldHVybiBoYXNoTWFwCgpkZWYgb25faW5wdXRfYmlyZHNfc2Vlbl9saXN0KGhhc2hNYXAsIF9maWxlcz1Ob25lLCBfZGF0YT1Ob25lKToKICAgIAogICAgaWYgaGFzaE1hcC5nZXQoImxpc3RlbmVyIikgPT0gIk9OX0JBQ0tfUFJFU1NFRCI6CiAgICAgICAgaGFzaE1hcC5wdXQoIkZpbmlzaFByb2Nlc3MiLCIiKQogICAgCiAgICByZXR1cm4gaGFzaE1hcA==",
        "Launch": "Menu"
    }
}